/**
 * udesly-wf-countup v0.0.1
 * udesly-wf-countup.bundle.js
 * 
 * Copyright 2019, Eclipse srl
 * 
 * This source code is licensed under the MIT license
 */

!function(){"use strict";function t(){}const n=t=>t;function r(t,n){for(const r in n)t[r]=n[r];return t}function e(t){return t()}function o(){return Object.create(null)}function u(t){t.forEach(e)}function i(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}const a=new Set;let s,f=!1;function d(){a.forEach(t=>{t[0](window.performance.now())||(a.delete(t),t[1]())}),(f=a.size>0)&&requestAnimationFrame(d)}function h(t){s=t}function l(t){(function(){if(!s)throw new Error("Function called outside component initialization");return s})().$$.on_mount.push(t)}const p=[];let g;const $=[],b=[],m=[];function w(t){b.push(t)}function y(){const t=new Set;do{for(;p.length;){const t=p.shift();h(t),M(t.$$)}for(;$.length;)$.shift()();for(;b.length;){const n=b.pop();t.has(n)||(n(),t.add(n))}}while(p.length);for(;m.length;)m.pop()();g=null}function M(t){t.fragment&&(t.update(t.dirty),u(t.before_render),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_render.forEach(w))}function I(t,n){t.$$.dirty||(p.push(t),g||(g=Promise.resolve()).then(y),t.$$.dirty={}),t.$$.dirty[n]=!0}function O(n,r,c,a,f,d){const l=s;h(n);const p=r.props||{},g=n.$$={fragment:null,ctx:null,props:d,update:t,not_equal:f,bound:o(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(l?l.$$.context:[]),callbacks:o(),dirty:null};let $=!1;var b;g.ctx=c?c(n,p,(t,r)=>{g.ctx&&f(g.ctx[t],g.ctx[t]=r)&&(g.bound[t]&&g.bound[t](r),$&&I(n,t))}):p,g.update(),$=!0,u(g.before_render),g.fragment=a(g.ctx),r.target&&(r.hydrate?g.fragment.l((b=r.target,Array.from(b.childNodes))):g.fragment.c(),r.intro&&n.$$.fragment.i&&n.$$.fragment.i(),function(t,n,r){const{fragment:o,on_mount:c,on_destroy:a,after_render:s}=t.$$;o.m(n,r),w(()=>{const n=c.map(e).filter(i);a?a.push(...n):u(n),t.$$.on_mount=[]}),s.forEach(w)}(n,r.target,r.anchor),y()),h(l)}class x{$destroy(){var n,r;r=!0,(n=this).$$&&(u(n.$$.on_destroy),n.$$.fragment.d(r),n.$$.on_destroy=n.$$.fragment=null,n.$$.ctx={}),this.$destroy=t}$on(t,n){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(){}}function v(t){var n=t*t;return t<4/11?7.5625*n:t<8/11?9.075*n-9.9*t+3.4:t<.9?4356/361*n-35442/1805*t+16061/1805:10.8*t*t-20.52*t+10.72}var q=Object.freeze({backInOut:function(t){var n=2.5949095;return(t*=2)<1?t*t*((n+1)*t-n)*.5:.5*((t-=2)*t*((n+1)*t+n)+2)},backIn:function(t){var n=1.70158;return t*t*((n+1)*t-n)},backOut:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},bounceOut:v,bounceInOut:function(t){return t<.5?.5*(1-v(1-2*t)):.5*v(2*t-1)+.5},bounceIn:function(t){return 1-v(1-t)},circInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},circIn:function(t){return 1-Math.sqrt(1-t*t)},circOut:function(t){return Math.sqrt(1- --t*t)},cubicInOut:function(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1},cubicIn:function(t){return t*t*t},cubicOut:function(t){var n=t-1;return n*n*n+1},elasticInOut:function(t){return t<.5?.5*Math.sin(13*Math.PI/2*2*t)*Math.pow(2,10*(2*t-1)):.5*Math.sin(-13*Math.PI/2*(2*t-1+1))*Math.pow(2,-10*(2*t-1))+1},elasticIn:function(t){return Math.sin(13*t*Math.PI/2)*Math.pow(2,10*(t-1))},elasticOut:function(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1},expoInOut:function(t){return 0===t||1===t?t:t<.5?.5*Math.pow(2,20*t-10):-.5*Math.pow(2,10-20*t)+1},expoIn:function(t){return 0===t?t:Math.pow(2,10*(t-1))},expoOut:function(t){return 1===t?t:1-Math.pow(2,-10*t)},quadInOut:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},quadIn:function(t){return t*t},quadOut:function(t){return-t*(t-2)},quartInOut:function(t){return t<.5?8*Math.pow(t,4):-8*Math.pow(t-1,4)+1},quartIn:function(t){return Math.pow(t,4)},quartOut:function(t){return Math.pow(t-1,3)*(1-t)+1},quintInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},quintIn:function(t){return t*t*t*t*t},quintOut:function(t){return--t*t*t*t*t+1},sineInOut:function(t){return-.5*(Math.cos(Math.PI*t)-1)},sineIn:function(t){var n=Math.cos(t*Math.PI*.5);return Math.abs(n)<1e-14?1:1-n},sineOut:function(t){return Math.sin(t*Math.PI/2)},linear:n});function E(t){return"[object Date]"===Object.prototype.toString.call(t)}function _(t,n){if(t===n||t!=t)return()=>t;const r=typeof t;if(r!==typeof n||Array.isArray(t)!==Array.isArray(n))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=n.map((n,r)=>_(t[r],n));return t=>r.map(n=>n(t))}if("object"===r){if(!t||!n)throw new Error("Object cannot be null");if(E(t)&&E(n)){t=t.getTime();const r=(n=n.getTime())-t;return n=>new Date(t+n*r)}const r=Object.keys(n),e={};return r.forEach(r=>{e[r]=_(t[r],n[r])}),t=>{const n={};return r.forEach(r=>{n[r]=e[r](t)}),n}}if("number"===r){const r=n-t;return n=>t+n*r}throw new Error(`Cannot interpolate ${r} values`)}function A(e,o={}){const u=function(n,r=t){let e;const o=[];function u(t){if(c(n,t)){if(n=t,!e)return;o.forEach(t=>t[1]()),o.forEach(t=>t[0](n))}}return{set:u,update:function(t){u(t(n))},subscribe:function(i,c=t){const a=[i,c];return o.push(a),1===o.length&&(e=r(u)||t),i(n),()=>{const t=o.indexOf(a);-1!==t&&o.splice(t,1),0===o.length&&e()}}}}(e);let i,s=e;function h(t,c){s=t;let h=i,l=!1,{delay:p=0,duration:g=400,easing:$=n,interpolate:b=_}=r(r({},o),c);const m=window.performance.now()+p;let w;return(i=function(t){let n;return f||(f=!0,requestAnimationFrame(d)),{promise:new Promise(r=>{a.add(n=[t,r])}),abort(){a.delete(n)}}}(n=>{if(n<m)return!0;l||(w=b(e,t),"function"==typeof g&&(g=g(e,t)),l=!0),h&&(h.abort(),h=null);const r=n-m;return r>g?(u.set(e=t),!1):(u.set(e=w($(r/g))),!0)})).promise}return{set:h,update:(t,n)=>h(t(s,e),n),subscribe:u.subscribe}}function P(n){var r,e=n.$progress.toFixed(n.digits);return{c(){var t;t=e,r=document.createTextNode(t)},m(t,n){!function(t,n,r){t.insertBefore(n,r)}(t,r,n)},p(t,n){var o,u;(t.$progress||t.digits)&&e!==(e=n.$progress.toFixed(n.digits))&&(u=""+(u=e),(o=r).data!==u&&(o.data=u))},i:t,o:t,d(t){var n;t&&(n=r).parentNode.removeChild(n)}}}function j(t,r,e){let o,{target:u,digits:i,duration:c,easing:a}=r,s=Number(u.textContent)||100;u.textContent="",e("target",u);const f=A(0,{duration:c,easing:q[a]||n});!function(t,n,r){t.$$.on_destroy.push(n.subscribe(r))}(t,f,t=>{e("$progress",o=t)});var d=new IntersectionObserver(function(t,n){t.forEach(t=>{t.isIntersecting&&(f.set(s),n.disconnect())})},{rootMargin:"0px",threshold:1});return l(()=>{d.observe(u)}),t.$set=(t=>{"target"in t&&e("target",u=t.target),"digits"in t&&e("digits",i=t.digits),"duration"in t&&e("duration",c=t.duration),"easing"in t&&e("easing",a=t.easing)}),{target:u,digits:i,duration:c,easing:a,progress:f,$progress:o}}class k extends x{constructor(t){super(),O(this,t,j,P,c,["target","digits","duration","easing"])}}const N=document.querySelectorAll("[udesly-countup]");if(!N.length)throw Error("Missing Element udesly-countup");N.forEach(t=>{new k({target:t,props:{target:t,digits:Number(t.getAttribute("digits"))<=100?Number(t.getAttribute("digits")):2,duration:1e3*Number(t.getAttribute("duration"))||1e3,easing:t.getAttribute("udesly-countup")}})})}();
